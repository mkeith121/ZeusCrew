<div class="col-xs-12 savedRoutes">
  <h3 class="infoHeader"><i class="fa fa-caret-right fa-rotate-90" aria-hidden="true"></i>My Trips</h3>
  <div class="row info save-routes" ng-repeat="route in myTrips">
    <div class="col-xs-4">
      <h4 class="nickName">{{ route.nickName }}</h4>
      <p class="route-start">From: {{ route.startPoint }}</p>
      <p class="route-end">To: {{ route.endPoint }}</p>
      <a class="pull-left" href="Javascript:void(0)" ng-if="!route.showComments" ng-click="toggle(route)">Show comments</a>
      <a class="pull-left" href="Javascript:void(0)" ng-if="route.showComments" ng-click="toggle(route)">Hide comments</a>
    </div>
    <div class="col-xs-4">
      <!-- <div class="stop-count">Number of stops: <br /> {{ route.wayPoints.length/2 }}</div> -->
      <div class="stop-count">{{route.wayPoints.length/2}} stop<span ng-if="route.wayPoints.length > 2">s</span></div>
    </div>
    <div class="col-xs-4 centered">
      <button class="saved-route-link btn" ng-click="viewSavedRoute(route.hash)">View this Route</button>
      <span>Likes: {{route.likes}}</span>
    </div>
    <div class="row"></div>
    <div class="comments col-xs-8" style="text-align: left" ng-if="route.showComments">
      <div style="background-color: lightgrey" ng-repeat="comment in route.comments">
        <p>{{comment.user}}:  {{comment.text}}</p>
      </div>
      <form ng-submit="sendComment(route)" class="pull-left">
        <input ng-model="msg.text" type="text" placeholder="Add a comment">
      </form>
    </div>
  </div>
</div>

<script>
$(".infoHeader").on("click", function (e){
  $(this).parent().find(".info").toggle();
  $(this).parent().find("button").toggle();
  $(this).parent().find("i").toggleClass("fa-rotate-90");
});
</script>